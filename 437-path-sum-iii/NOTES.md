doing dfs for each node of bfs